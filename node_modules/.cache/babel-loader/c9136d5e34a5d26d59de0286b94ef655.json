{"ast":null,"code":"var _jsxFileName = \"D:\\\\Libr\\\\front\\\\src\\\\Components\\\\Table\\\\TableSystem.jsx\";\nimport React, { useState, useRef } from 'react';\nimport './Table.css';\nimport { Link } from 'react-router-dom';\n\nfunction TableSystem({\n  _id,\n  name,\n  gateway,\n  createdAt,\n  removeScheme,\n  editScheme\n}) {\n  const [clickEdit, setclickEdit] = useState(false);\n  const [editText, seteditText] = useState({\n    name: name,\n    gateway: gateway\n  });\n  const [clickMore, setclickMore] = useState(false);\n  const mainRef = useRef(null);\n\n  const editHandler = () => {\n    setclickEdit(true);\n  };\n\n  const deleteHandler = () => {\n    removeScheme(_id, 'DELETE');\n  };\n\n  const changeFocus = () => {\n    editScheme(_id, editText);\n    setclickEdit(false);\n  };\n\n  const changeHandler = event => {\n    seteditText(event.target.value);\n  };\n\n  const handleKeyPress = event => {\n    if (event.key == 'Enter') {\n      editScheme(_id, editText);\n      setclickEdit(false);\n    }\n  };\n\n  const onClickHandlerMore = async () => {\n    if (clickMore === true) {\n      await setclickMore(false);\n    } else {\n      await setclickMore(true);\n      mainRef.current.focus();\n    }\n  };\n\n  const changeFocusMore = () => {\n    setclickMore(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    key: _id,\n    className: \"content__items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, clickEdit === false ? /*#__PURE__*/React.createElement(\"td\", {\n    className: \"content__block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"systems__name\",\n    to: {\n      pathname: `/system/${_id}`,\n      name: name,\n      gateway: gateway,\n      createdAt: createdAt\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"icon__folder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"table__tetx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, name))) : /*#__PURE__*/React.createElement(\"td\", {\n    className: \"content__block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoFocus: true,\n    className: \"edit__name\",\n    type: \"text\",\n    name: \"name\",\n    onBlur: changeFocus,\n    onChange: changeHandler,\n    onKeyPress: handleKeyPress,\n    value: editText.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"content__block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"systems__name\",\n    to: {\n      pathname: `/system/${_id}`,\n      name: name,\n      gateway: gateway,\n      createdAt: createdAt\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"table__tetx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, gateway))), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"content__block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"systems__name\",\n    to: {\n      pathname: `/system/${_id}`,\n      name: name,\n      gateway: gateway,\n      createdAt: createdAt\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"table__tetx\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, createdAt))), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"content__block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClickHandlerMore,\n    className: \"icon__more\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), clickMore === true ? /*#__PURE__*/React.createElement(\"div\", {\n    ref: mainRef,\n    tabIndex: \"1\",\n    onBlur: changeFocusMore,\n    className: \"window__more systems\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list__vidj\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"vidj__post\",\n    onClick: editHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, \"\\u041F\\u0435\\u0440\\u0435\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"vidj__post\",\n    onClick: deleteHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"))) : false));\n}\n\nexport default TableSystem;","map":{"version":3,"sources":["D:/Libr/front/src/Components/Table/TableSystem.jsx"],"names":["React","useState","useRef","Link","TableSystem","_id","name","gateway","createdAt","removeScheme","editScheme","clickEdit","setclickEdit","editText","seteditText","clickMore","setclickMore","mainRef","editHandler","deleteHandler","changeFocus","changeHandler","event","target","value","handleKeyPress","key","onClickHandlerMore","current","focus","changeFocusMore","pathname"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport './Table.css'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction TableSystem({ _id, name, gateway, createdAt, removeScheme, editScheme }) {\r\n\r\n    const [clickEdit, setclickEdit] = useState(false)\r\n    const [editText, seteditText] = useState({\r\n        name: name, gateway: gateway\r\n    })\r\n\r\n    const [clickMore, setclickMore] = useState(false)\r\n    const mainRef = useRef(null)\r\n\r\n    const editHandler = () => {\r\n        setclickEdit(true)\r\n    }\r\n\r\n    const deleteHandler = () => {\r\n        removeScheme(_id, 'DELETE')\r\n    }\r\n\r\n    const changeFocus = () => {\r\n        editScheme(_id, editText)\r\n        setclickEdit(false)\r\n    }\r\n\r\n    const changeHandler = event => {\r\n        seteditText(event.target.value)\r\n    }\r\n\r\n\r\n    const handleKeyPress = (event) => {\r\n        if (event.key == 'Enter') {\r\n            editScheme(_id, editText)\r\n            setclickEdit(false)\r\n        }\r\n    }\r\n\r\n\r\n    const onClickHandlerMore = async () => {\r\n        if (clickMore === true) {\r\n            await setclickMore(false)\r\n        }\r\n        else {\r\n            await setclickMore(true)\r\n            mainRef.current.focus()\r\n        }\r\n    }\r\n\r\n\r\n    const changeFocusMore = () => {\r\n        setclickMore(false)\r\n    }\r\n\r\n    return (\r\n        <tr key={_id} className=\"content__items\">\r\n\r\n            {\r\n                clickEdit === false ?\r\n                    <td className=\"content__block\">\r\n                        <Link\r\n                            className=\"systems__name\"\r\n                            to={{\r\n                                pathname: `/system/${_id}`,\r\n                                name: name,\r\n                                gateway: gateway,\r\n                                createdAt: createdAt\r\n                            }} >\r\n                            <span className=\"icon__folder\"></span>\r\n                            <span className=\"table__tetx\">{name}</span>\r\n                        </Link>\r\n                    </td>\r\n                    :\r\n                    <td className=\"content__block\">\r\n                        <input\r\n                            autoFocus\r\n                            className=\"edit__name\"\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            onBlur={changeFocus}\r\n                            onChange={changeHandler}\r\n                            onKeyPress={handleKeyPress}\r\n                            value={editText.name} />\r\n                    </td>\r\n            }\r\n\r\n            <td className=\"content__block\">\r\n                <Link\r\n                    className=\"systems__name\"\r\n                    to={{\r\n                        pathname: `/system/${_id}`,\r\n                        name: name,\r\n                        gateway: gateway,\r\n                        createdAt: createdAt\r\n                    }} >\r\n                    <span className=\"table__tetx\">{gateway}</span>\r\n                </Link>\r\n            </td>\r\n            <td className=\"content__block\">\r\n                <Link\r\n                    className=\"systems__name\"\r\n                    to={{\r\n                        pathname: `/system/${_id}`,\r\n                        name: name,\r\n                        gateway: gateway,\r\n                        createdAt: createdAt\r\n                    }} >\r\n                    <span className=\"table__tetx\">{createdAt}</span>\r\n                </Link>\r\n            </td>\r\n            <td className=\"content__block\">\r\n                <span\r\n                    onClick={onClickHandlerMore}\r\n                    className=\"icon__more\" />\r\n                {clickMore === true\r\n                    ?\r\n                    <div\r\n                        ref={mainRef}\r\n                        tabIndex=\"1\"\r\n                        onBlur={changeFocusMore}\r\n                        className=\"window__more systems\">\r\n                        <ul className=\"list__vidj\">\r\n                            <li\r\n                                className=\"vidj__post\"\r\n                                onClick={editHandler}\r\n                            >Переименовать</li>\r\n                            <li\r\n                                className=\"vidj__post\"\r\n                                onClick={deleteHandler}\r\n                            >Удалить</li>\r\n                        </ul>\r\n                    </div>\r\n                    : false\r\n                }\r\n            </td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default TableSystem\r\n"]},"metadata":{},"sourceType":"module"}