{"ast":null,"code":"var _jsxFileName = \"D:\\\\Libr\\\\front\\\\src\\\\Page\\\\SystemInfo.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BlockLoading, WindMillLoading } from 'react-loadingg';\nimport { useParams } from 'react-router-dom';\nimport { useHttp } from '../hooks/http.hook';\nimport { useMessage } from '../hooks/message.hook';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Header_Table from '../Components/Table/Header_TableScheme';\nimport TableSheme from '../Components/Table/TableSheme';\nimport Navbar from '../Components/Navbar/Navbar';\n\nfunction SystemInfo(props) {\n  const [items, setItems] = useState([]);\n  const [info_system, setInfo_system] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [sort, setSort] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage, setPostsPerPage] = useState(10);\n  const {\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const {\n    id\n  } = useParams();\n  const url = `http://localhost:5000/api/uploads/${id}`;\n  const url_id = `http://localhost:5000/api/systems/${id}`;\n  /*\r\n  useEffect(() => {\r\n      toast.error(error)\r\n      clearError()\r\n  }, [error, clearError])\r\n  */\n  //Получение информации по системе\n\n  useEffect(async () => {\n    try {\n      const system_data = await request(url_id, 'GET');\n      setInfo_system(system_data);\n    } catch (error) {}\n  }, [isLoaded]); //Получение списка всех файлов для конрктной системы\n\n  useEffect(async () => {\n    try {\n      console.log(url);\n      const data = await request(url, 'GET');\n      setIsLoaded(true);\n      setItems(data);\n    } catch (error) {\n      setIsLoaded(true);\n    }\n  }, [isLoaded]); // Загрузка файла\n\n  const uploadScheme = async selectedFile => {\n    try {\n      const data = new FormData();\n      data.append('file', selectedFile, selectedFile.name);\n      const response = await axios.post(url, data);\n      toast.success(`Файл ${selectedFile.name} добавлен!`);\n      setIsLoaded(false);\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n\n  const dowlandScheme = (_id, name) => {\n    axios({\n      url: `http://127.0.0.1:5000/api/uploads/schema/${_id}`,\n      method: 'GET',\n      responseType: 'blob'\n    }).then(response => {\n      const url = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement('a');\n      link.href = url;\n      link.setAttribute('download', name);\n      document.body.appendChild(link);\n      link.click();\n    });\n    setIsLoaded(false);\n  };\n\n  const removeScheme = async (_id, fileSrc, name) => {\n    try {\n      const data = await axios.delete(`http://127.0.0.1:5000/api/uploads/schema/${_id}`, {\n        data: {\n          fileSrc\n        }\n      });\n      toast.success(`Файл ${name} удален!`);\n      setIsLoaded(false);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const editScheme = async (_id, name) => {\n    try {\n      const data = await axios.put(`http://127.0.0.1:5000/api/uploads/schema/${_id}`, {\n        name\n      });\n      toast.success(`Файл ${name} переименован!`);\n      setIsLoaded(false);\n    } catch (e) {\n      console.error(e);\n    }\n  }; //Блок сортировки данных\n\n\n  const SortByUp = async param => {\n    if (param == \"name\") {\n      setItems(await items.sort((a, b) => a.name < b.name ? 1 : -1));\n    }\n\n    if (param == \"owner\") {//сделать для владельца\n    }\n\n    if (param == \"updatedAt\") {\n      setItems(await items.sort((a, b) => a.updatedAt < b.updatedAt ? 1 : -1));\n    }\n\n    setSort(false);\n    setSort(true);\n  };\n\n  const SortByDown = async param => {\n    console.log(items);\n    console.log(param);\n\n    if (param == \"name\") {\n      setItems(await items.sort((a, b) => a.name > b.name ? 1 : -1));\n    }\n\n    if (param == \"owner\") {//сделать для владельца\n    }\n\n    if (param == \"updatedAt\") {\n      setItems(await items.sort((a, b) => a.updatedAt > b.updatedAt ? 1 : -1));\n    }\n\n    setSort(false);\n    setSort(true);\n  }; // Get current posts\n\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = items.slice(indexOfFirstPost, indexOfLastPost);\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 16\n      }\n    }, \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error.message);\n  } else if (!isLoaded) {\n    return /*#__PURE__*/React.createElement(BlockLoading, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 16\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, Object.assign({}, info_system, {\n      uploadScheme: uploadScheme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table__system\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Header_Table, {\n      SortByUp: SortByUp,\n      SortByDown: SortByDown,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, items.map(obj => {\n      return /*#__PURE__*/React.createElement(TableSheme, Object.assign({\n        key: obj._id\n      }, obj, {\n        dowlandScheme: dowlandScheme,\n        removeScheme: removeScheme,\n        editScheme: editScheme,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 37\n        }\n      }));\n    }))));\n  }\n}\n\nexport default SystemInfo;","map":{"version":3,"sources":["D:/Libr/front/src/Page/SystemInfo.jsx"],"names":["React","useState","useEffect","axios","BlockLoading","WindMillLoading","useParams","useHttp","useMessage","toast","Header_Table","TableSheme","Navbar","SystemInfo","props","items","setItems","info_system","setInfo_system","isLoaded","setIsLoaded","sort","setSort","currentPage","setCurrentPage","postsPerPage","setPostsPerPage","request","error","clearError","id","url","url_id","system_data","console","log","data","uploadScheme","selectedFile","FormData","append","name","response","post","success","message","dowlandScheme","_id","method","responseType","then","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","removeScheme","fileSrc","delete","e","editScheme","put","SortByUp","param","a","b","updatedAt","SortByDown","indexOfLastPost","indexOfFirstPost","currentPosts","slice","map","obj"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport { BlockLoading, WindMillLoading } from 'react-loadingg';\r\nimport { useParams } from 'react-router-dom'\r\nimport { useHttp } from '../hooks/http.hook'\r\nimport { useMessage } from '../hooks/message.hook'\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\nimport Header_Table from '../Components/Table/Header_TableScheme'\r\nimport TableSheme from '../Components/Table/TableSheme'\r\nimport Navbar from '../Components/Navbar/Navbar'\r\n\r\nfunction SystemInfo(props) {\r\n\r\n    const [items, setItems] = useState([]);\r\n    const [info_system, setInfo_system] = useState([]);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [sort,setSort] = useState(false)\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [postsPerPage, setPostsPerPage] = useState(10)\r\n\r\n\r\n    const { request, error, clearError } = useHttp()\r\n\r\n    const { id } = useParams()\r\n    const url = `http://localhost:5000/api/uploads/${id}`\r\n    const url_id = `http://localhost:5000/api/systems/${id}`\r\n\r\n    /*\r\n    useEffect(() => {\r\n        toast.error(error)\r\n        clearError()\r\n    }, [error, clearError])\r\n*/\r\n\r\n    //Получение информации по системе\r\n    useEffect(async () => {\r\n        try {\r\n            const system_data = await request(url_id, 'GET')\r\n            setInfo_system(system_data)\r\n        } catch (error) {\r\n        }\r\n    }, [isLoaded])\r\n\r\n\r\n\r\n    //Получение списка всех файлов для конрктной системы\r\n    useEffect(async () => {\r\n        try {\r\n            console.log(url)\r\n            const data = await request(url, 'GET')\r\n            setIsLoaded(true);\r\n            setItems(data);\r\n        } catch (error) {\r\n            setIsLoaded(true);\r\n        }\r\n    }, [isLoaded])\r\n\r\n\r\n    // Загрузка файла\r\n    const uploadScheme = async (selectedFile) => {\r\n        try {\r\n            const data = new FormData()\r\n            data.append('file', selectedFile, selectedFile.name)\r\n            const response = await axios.post(url, data)\r\n            toast.success(`Файл ${selectedFile.name} добавлен!`)\r\n            setIsLoaded(false)\r\n        }\r\n        catch (error) {\r\n            toast.error(error.response.data.message)\r\n        }\r\n\r\n    }\r\n\r\n    const dowlandScheme = (_id, name) => {\r\n        axios({\r\n            url: `http://127.0.0.1:5000/api/uploads/schema/${_id}`,\r\n            method: 'GET',\r\n            responseType: 'blob',\r\n        }).then((response) => {\r\n            const url = window.URL.createObjectURL(new Blob([response.data]));\r\n            const link = document.createElement('a');\r\n            link.href = url;\r\n            link.setAttribute('download', name);\r\n            document.body.appendChild(link);\r\n            link.click();\r\n        });\r\n        setIsLoaded(false)\r\n    }\r\n\r\n    const removeScheme = async (_id, fileSrc, name) => {\r\n        try {\r\n            const data = await axios.delete(`http://127.0.0.1:5000/api/uploads/schema/${_id}`, {\r\n                data: {\r\n                    fileSrc\r\n                }\r\n            })\r\n            toast.success(`Файл ${name} удален!`)\r\n            setIsLoaded(false)\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n\r\n    }\r\n\r\n    const editScheme = async (_id, name) => {\r\n        try {\r\n            const data = await axios.put(`http://127.0.0.1:5000/api/uploads/schema/${_id}`, { name })\r\n            toast.success(`Файл ${name} переименован!`)\r\n            setIsLoaded(false)\r\n\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n        }\r\n\r\n    }\r\n\r\n    //Блок сортировки данных\r\n    const SortByUp = async (param) => {\r\n        if (param == \"name\") {\r\n            setItems(await items.sort((a, b) => a.name < b.name ? 1 : -1))\r\n        }\r\n        if (param == \"owner\") {\r\n           //сделать для владельца\r\n        }\r\n        if (param == \"updatedAt\") {\r\n            setItems(await items.sort((a, b) => a.updatedAt < b.updatedAt ? 1 : -1))\r\n        }\r\n        setSort(false)\r\n        setSort(true)\r\n    }\r\n\r\n    const SortByDown = async (param) => {\r\n        console.log(items)\r\n        console.log(param)\r\n        if (param == \"name\") {\r\n            setItems(await items.sort((a, b) => a.name > b.name ? 1 : -1))\r\n        }\r\n        if (param == \"owner\") {\r\n           //сделать для владельца\r\n        }\r\n        if (param == \"updatedAt\") {\r\n            setItems(await items.sort((a, b) => a.updatedAt > b.updatedAt ? 1 : -1))\r\n        }\r\n        setSort(false)\r\n        setSort(true)\r\n    }\r\n\r\n    // Get current posts\r\n\r\n    const indexOfLastPost = currentPage * postsPerPage;\r\n    const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n    const currentPosts = items.slice(indexOfFirstPost, indexOfLastPost)\r\n\r\n\r\n    if (error) {\r\n        return <div>Ошибка: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n        return <BlockLoading\r\n            size='large' />\r\n    } else {\r\n        return (\r\n            <div>\r\n\r\n                <Navbar {...info_system}\r\n                    uploadScheme={uploadScheme}\r\n                />\r\n\r\n                < table className=\"table__system\">\r\n                    <Header_Table\r\n                        SortByUp={SortByUp}\r\n                        SortByDown={SortByDown}\r\n                    />\r\n                    <tbody>\r\n                        {\r\n                            items.map((obj) => {\r\n                                return (\r\n                                    <TableSheme key={obj._id} {...obj}\r\n                                        dowlandScheme={dowlandScheme}\r\n                                        removeScheme={removeScheme}\r\n                                        editScheme={editScheme}\r\n                                    />\r\n                                )\r\n                            })\r\n                        }\r\n                    </ tbody>\r\n                </ table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SystemInfo\r\n"]},"metadata":{},"sourceType":"module"}